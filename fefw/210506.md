# React 学习 - React Hooks

[toc]

## Todo

- [x] 01
- [ ] 02
- [ ] 03
- [ ] 04
- [ ] 05
- [ ] 06
- [ ] 07
- [ ] 08
- [ ] 09
- [ ] 10
- [ ] 11

## 概要信息

- 教程地址：[技术胖\- React Hooks 视频教程](https://jspang.com/detailed?id=50#toc21)
- 代码仓库地址：[xiezipei/react\-demos](https://github.com/xiezipei/react-demos)

## 教程学习

### 1. React Hooks 介绍和环境搭建

React Hooks 介绍：

> 2018 年底 FaceBook 的 React 小组推出 Hooks 以来，所有的 React 的开发者都对它大为赞赏。
> 
> React Hooks 就是 **用函数的形式代替原来的继承类的形式**，并且使用预函数的形式管理 state，有 Hooks 可以不再使用类的形式定义组件了。这时候你的认知也要发生变化了，原来把组件分为有状态组件和无状态组件，有状态组件用类的形式声明，无状态组件用函数的形式声明。那现在所有的组件都可以用函数来声明了。

点击计数小示例的两种写法：

有状态组件写法：

```js
// demo11/src/App.js
import React, { Component } from 'react';

class App extends Component {
    constructor(props) {
        super(props)
        this.state = { count: 0 }
    }
    addCount() {
        this.setState({
            count: this.state.count + 1
        })
    }
    render() { 
        return (
            <div>
                <p>你点击了 { this.state.count } 次。</p>
                <button onClick={ this.addCount.bind(this) }>
                    点击我
                </button>
            </div>
        )
    }
}
 
export default App
```

React Hooks 写法：

```js
// demo11/src/AppByHooks.js
import React, { useState } from 'react';

function AppByHooks() {
    const [ count, setCount ] = useState(0)
    return (
        <div>
            <p>你点击了 { count } 次。</p>
            <button onClick={ () => { setCount(count + 1)} }>
                点击我
            </button>
        </div>
    )
}

export default AppByHooks
```

React Hooks 与有状态组件写法对比：

1. 代码更简洁
2. 干掉了 class 类继承写法，只用 function

### 2. useState 介绍和多状态声明

### 3. useEffect 代替常用生命周期函数

### 4. useEffect 实现 componentWillUnmount 生命周期函数

### 5. useContext 让父子组件传值更简单

### 6. useReducer 介绍和简单实用

### 7. useReducer 代替 Redux 1

### 8. useReducer 代替 Redux 2

### 9. useMemo 优化 React Hooks 程序性能

### 10. useRef 获取 DOM 元素和保存变量

### 11. 自定义 Hooks 函数获取窗口大小

## 参考信息

- [React Hooks 入门教程 \- 阮一峰的网络日志](http://www.ruanyifeng.com/blog/2019/09/react-hooks.html)
- [轻松学会 React 钩子：以 useEffect\(\) 为例 \- 阮一峰的网络日志](http://www.ruanyifeng.com/blog/2020/09/react-hooks-useeffect-tutorial.html)