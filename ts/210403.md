# 进击的 TS（1）- 基础知识

## Todo

- [x] 为什么要用 TypeScript？
- [x] TS 开发环境设置
- [x] 原始类型
- [ ] 枚举类型
- [ ] 接口
- [ ] 类
- [ ] 函数
- [ ] 泛型
- [ ] 类型断言
- [ ] 类型守卫
- [ ] 类型兼容性
- [ ] 交叉类型
- [ ] 联合类型
- [ ] 类型别名
- [ ] 可辨识联合类型
- [ ] 装饰器
- [ ] Reflect Metadata

## 为什么要用 TypeScript？

好处：

1. 规避大量低级错误，避免时间浪费
2. 减少多人协作项目的成本，大型项目友好
3. 良好代码提示，不用反复文件跳转或者翻文档

坏处：

1. 与其它框架结合会有坑
2. 配置学习成本高
3. 要学习额外的 **类型系统**

> @Todo 补充示例论证说明优缺点

## TS 开发环境设置

```sh
# 全局安装（可以使用 `tsc` 命令）
npm install -g typescirpt

# 初始化目录
npm init

# 初始化ts环境（会多一个 `tsconfig.json` 文件，即项目的ts配置文件）
tsc --init
```

关于 `tsconfig.json` 配置项详细说明，可以参考官方文档：[tsconfig\.json](https://www.tslang.cn/docs/handbook/tsconfig-json.html)。

> @Todo 补充 `tsconfig.json` 常用设置说明示例 

在 `package.json` 加上两个 script:

```json
"scripts": {
    "build": "tsc", // 编译
    "build:w": "tsc -w" // 监听文件变化并编译
}
```

## 原始类型

TS 有哪几种原始类型？

1. `boolean`
2. `number`
3. `string`
4. `void`
5. `null`
6. `undefined` 
7. `symbol`
8. `bigint`

### `boolean` 布尔值 

```ts
const isSpinning: boolean = false;
```

###  `number` 数字

```ts
const size: number = 6;
```

> 注：除了十进制，还可以是十六进制、二进制、八进制字面量。

### `string` 字符串

```ts
const customer: string = 'Tonny';
```

> 注：除了单双引字符串，还可以是模板字符串（被反引号包围）。

### `void` 空值

1. `void` 表示没有任何类型
2. 当一个函数没有返回值时，它的返回类型就是 `void`
3. 声明一个 `void` 类型的变量没什么用，因为它只能被赋予 `undefined` 和 `null`

```ts
function sayHi(): void {
    alert('Hi');
}
```

### `null` & `undefined`

1. 默认情况下，`null` 和 `undefined` 是所有类型的子类型，即可以把它们赋值给以上类型
2. `undefined` 能赋值给 `void`
3. 只有 `--strictNullChecks` 设置为 `false` 时 `null` 才能赋值给 `void`

```ts
let u: undefined = undefined;
let n: null = null;

let v1: void = undefined;    // OK
// let v2: void = null;    // 注意：strictNullChecks=false时才可以这样赋值
```

`tsconfig.json` 开启 `strictNullChecks` 检查：

```json
{
    "compileOnSave": false,
    "compilerOptions": {
        ...
        "strictNullChecks": true,   // Here!
        "skipLibCheck": true,
        ...
    }
}
```

### `symbol` 大数整数

使用 `Symbol` 时，必须添加 `es6` 的编译辅助库：

```json
{
    ...
    "lib": ["ES6", "DOM"],  // 指定要包含在编译中的库文件
    ...
}
```

该类型通过 `Symbol` 构造函数创建：

```ts
const s1 = Symbol('s1');
const s2 = Symbol('s2');
```

Symbol 的值时唯一不变的：

```ts
Symbol('s1') = Symbol('s1');    // false
```

### `BigInt`

使用 `BigInt` 必须添加 `ESNext` 编译辅助库：

```json
"lib": ["es6", "dom", "ESNext"],
```

## 参考

- [深入浅出TypeScript：从基础知识到类型编程](https://juejin.cn/book/6844733813021491207)
- [理解 Typescript 配置文件](https://segmentfault.com/a/1190000013514680)